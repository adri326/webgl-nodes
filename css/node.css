#node-window > .menu {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 1em;
  background: #422a2e;
  z-index: 2;
}

#node-window > .input-type {
  position: absolute;
  top: 0;
  left: 0;
  right: 1em;
  height: 1em;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  padding-left: 0.4em;
  padding-right: 0.4em;
  visibility: hidden;
  z-index: 2;
  background: #422a2e;
}

#node-window > .input-type > input {
  width: 100%;
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
  vertical-align: top;
  color: white;
}

#node-window > .input-type.visible {
  visibility: visible;
}

#node-display {
  overflow: hidden;
  top: 0;
  left: 0;
  right: 0;
  margin-right: 1em;
  bottom: 0;
  height: 100%;
  position: relative;
  box-shadow: var(--shadow-x) var(--shadow-y) var(--shadow-big-width) var(--shadow-big-offset) var(--shadow-big-color) inset;
}

#node-display > .node {
  position: absolute;
  border-radius: 4px;
  background: #714d51;
  min-width: 8em;
  min-height: 6em;
  color: #fdfdfd;
  box-shadow: 1px 1px 6px -2px rgba(0, 0, 0, 0.5);
  z-index: 1;
}

#node-display > .node > .title {
  user-select: none;
  color: white;
  text-align: center;
  padding-left: 0.4em;
  padding-right: 0.4em;
  padding-top: 0.45em;
  padding-bottom: 0.35em;
  height: 1em;
  background: #7e7ca6;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  cursor: move;
  box-shadow: 1px 2px 4px -2px rgba(0, 0, 0, 0.25);
}

#node-display > .node > .content {
  padding-left: 0.4em;
  padding-right: 0.4em;
  padding-top: 0.6em;
  padding-bottom: 0.2em;
  user-select: none;
  text-align: center;
}

#node-display > .node > .content > input[type=number] {
  width: 10em;
  background: #422a2e;
}

.handle-1-1,
.handle-1-2,
.handle-1-3 {
  --n: 1;
}

.handle-2-2,
.handle-2-3 {
  --n: 2;
}

.handle-3-3 {
  --n: 3;
}

.handle-1-1 {
  --o: 1;
}

.handle-1-2,
.handle-2-2 {
  --o: 2;
}

.handle-1-3,
.handle-2-3,
.handle-3-3 {
  --o: 3;
}

#node-display > .node > .handle-top,
#node-display > .node > .handle-bottom {
  --spacing: 2em;
  --left: calc(var(--spacing) * (var(--o) - 1) * -1 * (var(--o) * 0.25) + var(--spacing) * 2 * (var(--n) - 1) * (var(--o) * 0.25) + 50% - 0.25em - 2px);
}

#node-display > .node > .handle-top {
  position: absolute;
  top: -0.4em;
  left: var(--left);
  background: #714d51;
  border-radius: 100%;
  width: 0.5em;
  height: 0.5em;
  border: 2px solid white;
  z-index: 3;
}
#node-display > .node > .handle-bottom {
  position: absolute;
  bottom: -0.4em;
  left: var(--left);
  background: #714d51;
  border-radius: 100%;
  width: 0.5em;
  height: 0.5em;
  border: 2px solid white;
  z-index: 3;
}

#node-draw {
  position: absolute;
  top: 0;
  left: 0;
}
